---
// src/components/HeaderLink.astro
export interface Props {
  href: string;
}

const { href } = Astro.props;

// This gets the current URL path
const { pathname } = Astro.url;

// Normalize paths by removing trailing slashes for comparison
const normalizedPathname = pathname.endsWith('/') ? pathname.slice(0, -1) : pathname;
const normalizedHref = href.endsWith('/') ? href.slice(0, -1) : href;

// Simple exact match for active state
const isActive = 
  normalizedHref === '/' 
    ? normalizedPathname === '' || normalizedPathname === '/' 
    : normalizedPathname === normalizedHref;

---

<a href={href} class:list={[{ active: isActive }]}>
  <slot />
</a>